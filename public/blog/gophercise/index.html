<!DOCTYPE html>
<html lang="en-US">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta http-equiv="X-Clacks-Overhead" content="GNU Terry Pratchett" />
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
<link rel="manifest" href="/site.webmanifest" />
<title>Gophercise #1 &#34;Quiz&#34; Walkthrough! | crazyc4t&#39;s blog</title>
<meta name="title" content="Gophercise #1 &#34;Quiz&#34; Walkthrough!" />
<meta name="description" content="What&rsquo;s up guys! It&rsquo;s crazyc4t here, once again, I&rsquo;m sorry for not being fully active these past couple of weeks, but I&rsquo;m here for you guys and I&rsquo;m bringing you the best way to learn golang, and that is coding with it!
What is Gophercises?
Gophercises is a webpage made by Jon Calhoun, an experienced web developer with go, and we takes us through a series of exercises to code with golang making us improve our way to code in go by exploring topics like channels, concurrency, methods, using the standard library and more! The best thing of all is that is free! So you won&rsquo;t lose anything trying it out, instead you will have tons of fun like I did!" />
<meta name="keywords" content="Go," />






  
  <meta property="og:url" content="http://localhost:1313/blog/gophercise/">
  <meta property="og:site_name" content="crazyc4t&#39;s blog">
  <meta property="og:title" content="Gophercise #1 &#34;Quiz&#34; Walkthrough!">
  <meta property="og:description" content="What‚Äôs up guys! It‚Äôs crazyc4t here, once again, I‚Äôm sorry for not being fully active these past couple of weeks, but I‚Äôm here for you guys and I‚Äôm bringing you the best way to learn golang, and that is coding with it!
What is Gophercises? Gophercises is a webpage made by Jon Calhoun, an experienced web developer with go, and we takes us through a series of exercises to code with golang making us improve our way to code in go by exploring topics like channels, concurrency, methods, using the standard library and more! The best thing of all is that is free! So you won‚Äôt lose anything trying it out, instead you will have tons of fun like I did!">
  <meta property="og:locale" content="en_US">
  <meta property="og:type" content="article">
    <meta property="article:section" content="blog">
    <meta property="article:published_time" content="2023-03-22T11:59:47-05:00">
    <meta property="article:modified_time" content="2023-03-22T11:59:47-05:00">
    <meta property="article:tag" content="Go">


  
  
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Gophercise #1 &#34;Quiz&#34; Walkthrough!">
  <meta name="twitter:description" content="What‚Äôs up guys! It‚Äôs crazyc4t here, once again, I‚Äôm sorry for not being fully active these past couple of weeks, but I‚Äôm here for you guys and I‚Äôm bringing you the best way to learn golang, and that is coding with it!
What is Gophercises? Gophercises is a webpage made by Jon Calhoun, an experienced web developer with go, and we takes us through a series of exercises to code with golang making us improve our way to code in go by exploring topics like channels, concurrency, methods, using the standard library and more! The best thing of all is that is free! So you won‚Äôt lose anything trying it out, instead you will have tons of fun like I did!">


  
  
  <meta itemprop="name" content="Gophercise #1 &#34;Quiz&#34; Walkthrough!">
  <meta itemprop="description" content="What‚Äôs up guys! It‚Äôs crazyc4t here, once again, I‚Äôm sorry for not being fully active these past couple of weeks, but I‚Äôm here for you guys and I‚Äôm bringing you the best way to learn golang, and that is coding with it!
What is Gophercises? Gophercises is a webpage made by Jon Calhoun, an experienced web developer with go, and we takes us through a series of exercises to code with golang making us improve our way to code in go by exploring topics like channels, concurrency, methods, using the standard library and more! The best thing of all is that is free! So you won‚Äôt lose anything trying it out, instead you will have tons of fun like I did!">
  <meta itemprop="datePublished" content="2023-03-22T11:59:47-05:00">
  <meta itemprop="dateModified" content="2023-03-22T11:59:47-05:00">
  <meta itemprop="wordCount" content="1526">
  <meta itemprop="keywords" content="Go">

<meta name="referrer" content="no-referrer-when-downgrade" />

  
  <link href="/style.min.css" rel="stylesheet">

  
  <link href="/syntax.min.css" rel="stylesheet">

  

  

<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
<link rel="manifest" href="/site.webmanifest" />
</head>

<body>
  <header><a href="/" class="title"><h1>crazyc4t&#39;s blog</h1></a>
<nav>
<a href="/">Home</a>

<a href="/blog/">Blog</a>
 
<a
  href='mailto:saidneder1@gmail.com?subject=Reply%20to%20"Gophercise%20%231%20%22Quiz%22%20Walkthrough%21"'
  >Email</a
>

<a href="https://saidneder.ca" target="_blank">My links</a>
<a href="/index.xml">RSS</a>


 


 


<a class="disabled" role="link" aria-disabled="true">es üá™üá®</a>
  
</nav>
</header>
  <main> 
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
<link rel="manifest" href="/site.webmanifest" />

<h1>Gophercise #1 "Quiz" Walkthrough!</h1>
<p>
  <i>
    <time datetime='2023-03-22' pubdate>
      2023-03-22
    </time>
  </i>
</p>

<content> <p>What&rsquo;s up guys! It&rsquo;s crazyc4t here, once again, I&rsquo;m sorry for not being fully active these past couple of weeks, but I&rsquo;m here for you guys and I&rsquo;m bringing you the best way to learn golang, and that is coding with it!</p>
<h2 id="what-is-gophercises">What is Gophercises?</h2>
<p><a href="https://gophercises.com/">Gophercises</a> is a webpage made by <a href="https://www.calhoun.io/">Jon Calhoun</a>, an experienced web developer with go, and we takes us through a series of exercises to code with golang making us improve our way to code in go by exploring topics like channels, concurrency, methods, using the standard library and more! The best thing of all is that is free! So you won&rsquo;t lose anything trying it out, instead you will have tons of fun like I did!</p>
<p>In gophercises there are a lot of exercises ranging from an order from 1 through 20, and of course they increase in difficulty, the exercises are solved by the author in case you get lost so you can get a lead, but also the author adds some additional exercises to the exercise, making you go for the extra mile.</p>
<h2 id="the-quiz-exercise">The &ldquo;Quiz&rdquo; Exercise</h2>
<p>This exercise is based on the idea of a quiz, hence the name for it, it is a program that reads questions and answers from a csv file and count how many questions did the user got right or wrong, and ask the following questions no matter if the answer was right or wrong, all of these fields are customizable through flags, the format of the csv is as follows:</p>
<pre tabindex="0"><code class="language-csv" data-lang="csv">5+5,10
7+3,10
1+1,2
8+3,11
1+2,3
8+6,14
3+1,4
1+4,5
5+1,6
2+3,5
3+3,6
2+4,6
5+2,7
</code></pre><p>Printing at the end of the program the results of the user, after completing that, the second part is to add a timer to the exercise, being the default flag 30 seconds, but it needs to be customizable to the end user, and without any delay, cut the quiz if the time runs out and don&rsquo;t wait if the user is going to answer or not the question, so ungiven answers are counted as wrong answers.</p>
<h3 id="bonus-exercises">Bonus Exercises</h3>
<ul>
<li>Clean up the answer so it will count even if it has white spaces, capitalization, etc&hellip;</li>
<li>Add an option to shuffle the order of the quiz each time is runned.</li>
</ul>
<p>Here&rsquo;s the official repo for the quiz exercise with detailed instructions and solutions from various students: <a href="https://github.com/gophercises/quiz">https://github.com/gophercises/quiz</a></p>
<p>I suggest that you first try it out on your own before reading my solution, give your best shot! È†ëÂºµ„Å£„Å¶ÔºÅ</p>
<h2 id="the-solution">The solution</h2>
<p>I will explain the code detail by detail, so no worries about it!</p>
<h3 id="import-the-required-packages">Import the required packages</h3>
<p>We will be using:</p>
<ul>
<li><a href="https://pkg.go.dev/encoding/csv"><code>encoding/csv</code></a> for reading the csv file.</li>
<li><a href="https://pkg.go.dev/flag@go1.20.2"><code>flag</code></a> for creating command-line flags to give the user personalization.</li>
<li><a href="https://pkg.go.dev/fmt"><code>fmt</code></a> for formatting I/O (print &amp; scan).</li>
<li><a href="https://pkg.go.dev/log"><code>log</code></a> for logging errors that happen.</li>
<li><a href="https://pkg.go.dev/math/rand"><code>math/rand</code></a> for randomization when shuffling order.</li>
<li><a href="https://pkg.go.dev/os"><code>os</code></a> for accessing the OS through the library.</li>
<li><a href="https://pkg.go.dev/string"><code>strings</code></a> for cleaning the answer string.</li>
<li><a href="https://pkg.go.dev/time"><code>time</code></a> for the quiz timer.</li>
<li><a href="https://github.com/zakaria-chahboun/cute"><code>cute</code></a> Pretty output library made by <a href="https://github.com/zakaria-chahboun">zakaria-chahboun</a>, thanks!</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="ln"> 2</span><span class="cl">
</span></span><span class="line"><span class="ln"> 3</span><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="ln"> 4</span><span class="cl">	<span class="s">&#34;encoding/csv&#34;</span>
</span></span><span class="line"><span class="ln"> 5</span><span class="cl">	<span class="s">&#34;flag&#34;</span>
</span></span><span class="line"><span class="ln"> 6</span><span class="cl">	<span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="ln"> 7</span><span class="cl">	<span class="s">&#34;log&#34;</span>
</span></span><span class="line"><span class="ln"> 8</span><span class="cl">	<span class="s">&#34;math/rand&#34;</span>
</span></span><span class="line"><span class="ln"> 9</span><span class="cl">	<span class="s">&#34;os&#34;</span>
</span></span><span class="line"><span class="ln">10</span><span class="cl">	<span class="s">&#34;strings&#34;</span>
</span></span><span class="line"><span class="ln">11</span><span class="cl">	<span class="s">&#34;time&#34;</span>
</span></span><span class="line"><span class="ln">12</span><span class="cl">
</span></span><span class="line"><span class="ln">13</span><span class="cl">	<span class="s">&#34;github.com/zakaria-chahboun/cute&#34;</span>
</span></span><span class="line"><span class="ln">14</span><span class="cl"><span class="p">)</span>
</span></span></code></pre></div><h3 id="structs-for-handling-flags">Structs for handling flags</h3>
<p>We create a struct of the type <code>Exercise</code> that has a question and an answer, and the struct <code>Flag</code> that has a Csv, Limit and Shuffle.</p>
<p>We create a function to check our errors that we will use later, and to parse the flags we will save each data received in a varible of type &ldquo;Flag&rdquo;, and return it&rsquo;s pointer since we used the dereferenced variable (the memory address)</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="c1">// Struct of the exercise
</span></span></span><span class="line"><span class="ln"> 2</span><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">Exercise</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 3</span><span class="cl">	<span class="nx">Question</span><span class="p">,</span> <span class="nx">Answer</span> <span class="kt">string</span>
</span></span><span class="line"><span class="ln"> 4</span><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="ln"> 5</span><span class="cl">
</span></span><span class="line"><span class="ln"> 6</span><span class="cl"><span class="c1">// Struct of the flags
</span></span></span><span class="line"><span class="ln"> 7</span><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">Flags</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 8</span><span class="cl">	<span class="nx">Csv</span>     <span class="kt">string</span>
</span></span><span class="line"><span class="ln"> 9</span><span class="cl">	<span class="nx">Limit</span>   <span class="kt">int</span>
</span></span><span class="line"><span class="ln">10</span><span class="cl">	<span class="nx">Shuffle</span> <span class="kt">bool</span>
</span></span><span class="line"><span class="ln">11</span><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="ln">12</span><span class="cl">
</span></span><span class="line"><span class="ln">13</span><span class="cl"><span class="c1">// Check my errors
</span></span></span><span class="line"><span class="ln">14</span><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">checkErr</span><span class="p">(</span><span class="nx">description</span> <span class="kt">string</span><span class="p">,</span> <span class="nx">err</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln">15</span><span class="cl">	<span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln">16</span><span class="cl">		<span class="nx">log</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">description</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">17</span><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="ln">18</span><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="ln">19</span><span class="cl">
</span></span><span class="line"><span class="ln">20</span><span class="cl"><span class="c1">// Save each flag result in an variable type Flag, parse it and return it&#39;s pointer.
</span></span></span><span class="line"><span class="ln">21</span><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">parsing</span><span class="p">()</span> <span class="nx">Flags</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln">22</span><span class="cl">	<span class="nx">options</span> <span class="o">:=</span> <span class="nb">new</span><span class="p">(</span><span class="nx">Flags</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">23</span><span class="cl">	<span class="nx">flag</span><span class="p">.</span><span class="nx">CommandLine</span> <span class="p">=</span> <span class="nx">flag</span><span class="p">.</span><span class="nf">NewFlagSet</span><span class="p">(</span><span class="nx">os</span><span class="p">.</span><span class="nx">Args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nx">flag</span><span class="p">.</span><span class="nx">ExitOnError</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">24</span><span class="cl">	<span class="nx">flag</span><span class="p">.</span><span class="nf">StringVar</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">options</span><span class="p">.</span><span class="nx">Csv</span><span class="p">,</span> <span class="s">&#34;csv&#34;</span><span class="p">,</span> <span class="s">&#34;problems.csv&#34;</span><span class="p">,</span> <span class="s">&#34;Insert the filepath of the csv file.&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">25</span><span class="cl">	<span class="nx">flag</span><span class="p">.</span><span class="nf">IntVar</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">options</span><span class="p">.</span><span class="nx">Limit</span><span class="p">,</span> <span class="s">&#34;limit&#34;</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="s">&#34;Insert time limit of the quiz&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">26</span><span class="cl">	<span class="nx">flag</span><span class="p">.</span><span class="nf">BoolVar</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">options</span><span class="p">.</span><span class="nx">Shuffle</span><span class="p">,</span> <span class="s">&#34;shuffle&#34;</span><span class="p">,</span> <span class="kc">false</span><span class="p">,</span> <span class="s">&#34;Wether the order of the csv file is shuffled or not&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">27</span><span class="cl">	<span class="nx">flag</span><span class="p">.</span><span class="nf">Parse</span><span class="p">()</span>
</span></span><span class="line"><span class="ln">28</span><span class="cl">	<span class="k">return</span> <span class="o">*</span><span class="nx">options</span>
</span></span><span class="line"><span class="ln">29</span><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="reading-the-csv-and-creating-the-shuffle-feature">Reading the csv and creating the shuffle feature</h3>
<p>In the <code>read</code> function create a varible that will store the csv file from the flag, defer it until we no longer need it, create a new reader and read all the fields at once, after that check if there were any errors, and return the whole reading that is a map of type <code>string</code>.</p>
<p>In the <code>serialize</code> function read the whole data and &ldquo;serialize&rdquo; it to a type <code>Exercise</code>, meaning reading the whole data and assign each field if it belongs to the answer or question field.</p>
<p>After that create the shuffle function where it receives a slice of data type <code>Exercise</code>, where it takes the length of the slice, and the indexes of the slice, being <code>i</code> and <code>j</code>, changing the index position of each value stored in the slice, if we remember correctly the <code>Exercise</code> data type stores a question and an answer, so when using the shuffle function, it will change the position of an exercise in the exercises slice, not a question or answer, but the whole exercise.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="c1">// Read csv all at once
</span></span></span><span class="line"><span class="ln"> 2</span><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">read</span><span class="p">()</span> <span class="p">[][]</span><span class="kt">string</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 3</span><span class="cl">	<span class="nx">csvFile</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">os</span><span class="p">.</span><span class="nf">Open</span><span class="p">(</span><span class="nf">parsing</span><span class="p">().</span><span class="nx">Csv</span><span class="p">)</span>
</span></span><span class="line"><span class="ln"> 4</span><span class="cl">	<span class="nf">checkErr</span><span class="p">(</span><span class="s">&#34;Error opening file&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="ln"> 5</span><span class="cl">
</span></span><span class="line"><span class="ln"> 6</span><span class="cl">	<span class="k">defer</span> <span class="nx">csvFile</span><span class="p">.</span><span class="nf">Close</span><span class="p">()</span> <span class="c1">// Do not close it until finished
</span></span></span><span class="line"><span class="ln"> 7</span><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="ln"> 8</span><span class="cl">	<span class="nx">r</span> <span class="o">:=</span> <span class="nx">csv</span><span class="p">.</span><span class="nf">NewReader</span><span class="p">(</span><span class="nx">csvFile</span><span class="p">)</span> <span class="c1">// New reader
</span></span></span><span class="line"><span class="ln"> 9</span><span class="cl"><span class="c1"></span>	<span class="nx">r</span><span class="p">.</span><span class="nx">FieldsPerRecord</span> <span class="p">=</span> <span class="o">-</span><span class="mi">1</span>      <span class="c1">// Read all fields, do not expect a fixed number
</span></span></span><span class="line"><span class="ln">10</span><span class="cl"><span class="c1"></span>	<span class="nx">reading</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">r</span><span class="p">.</span><span class="nf">ReadAll</span><span class="p">()</span> <span class="c1">// Data read
</span></span></span><span class="line"><span class="ln">11</span><span class="cl"><span class="c1"></span>	<span class="nf">checkErr</span><span class="p">(</span><span class="s">&#34;Error reading file&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">12</span><span class="cl">	<span class="k">return</span> <span class="nx">reading</span> <span class="c1">// Give the data read as a result
</span></span></span><span class="line"><span class="ln">13</span><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="ln">14</span><span class="cl">
</span></span><span class="line"><span class="ln">15</span><span class="cl"><span class="c1">// From the data read, create a slice that supports values type Exercise
</span></span></span><span class="line"><span class="ln">16</span><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">serialize</span><span class="p">(</span><span class="nx">data</span> <span class="p">[][]</span><span class="kt">string</span><span class="p">)</span> <span class="p">[]</span><span class="nx">Exercise</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln">17</span><span class="cl">	<span class="kd">var</span> <span class="nx">Exercises</span> <span class="p">[]</span><span class="nx">Exercise</span>
</span></span><span class="line"><span class="ln">18</span><span class="cl">	<span class="kd">var</span> <span class="nx">exercise</span> <span class="nx">Exercise</span>
</span></span><span class="line"><span class="ln">19</span><span class="cl">	<span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">record</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">data</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln">20</span><span class="cl">		<span class="nx">exercise</span><span class="p">.</span><span class="nx">Question</span> <span class="p">=</span> <span class="nx">record</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span></span><span class="line"><span class="ln">21</span><span class="cl">		<span class="nx">exercise</span><span class="p">.</span><span class="nx">Answer</span> <span class="p">=</span> <span class="nx">record</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</span></span><span class="line"><span class="ln">22</span><span class="cl">		<span class="nx">Exercises</span> <span class="p">=</span> <span class="nb">append</span><span class="p">(</span><span class="nx">Exercises</span><span class="p">,</span> <span class="nx">exercise</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">23</span><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="ln">24</span><span class="cl">	<span class="k">return</span> <span class="nx">Exercises</span>
</span></span><span class="line"><span class="ln">25</span><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="ln">26</span><span class="cl">
</span></span><span class="line"><span class="ln">27</span><span class="cl"><span class="c1">// From an slice of type Exercise, shuffle the order of the exercises
</span></span></span><span class="line"><span class="ln">28</span><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">shuffleOrder</span><span class="p">(</span><span class="nx">exercises</span> <span class="p">[]</span><span class="nx">Exercise</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln">29</span><span class="cl">	<span class="nx">rand</span><span class="p">.</span><span class="nf">Shuffle</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="nx">exercises</span><span class="p">),</span> <span class="kd">func</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="nx">j</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln">30</span><span class="cl">		<span class="nx">exercises</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="nx">exercises</span><span class="p">[</span><span class="nx">j</span><span class="p">]</span> <span class="p">=</span> <span class="nx">exercises</span><span class="p">[</span><span class="nx">j</span><span class="p">],</span> <span class="nx">exercises</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span>
</span></span><span class="line"><span class="ln">31</span><span class="cl">	<span class="p">})</span>
</span></span><span class="line"><span class="ln">32</span><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="the-cute-output">The cute output</h3>
<p>Using the <a href="https://github.com/zakaria-chahboun/cute">cute</a> library, we can create a list that will print out the quiz results, including:</p>
<ul>
<li>Correct answers</li>
<li>Incorrect answers</li>
<li>Total Questions</li>
</ul>
<p>All of this being stored in the <code>quizResults</code> function.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="ln">1</span><span class="cl"><span class="c1">// Creates cute list that prints quiz results
</span></span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">quizResults</span><span class="p">(</span><span class="nx">correct</span><span class="p">,</span> <span class="nx">questions</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln">3</span><span class="cl">	<span class="nx">results</span> <span class="o">:=</span> <span class="nx">cute</span><span class="p">.</span><span class="nf">NewList</span><span class="p">(</span><span class="nx">cute</span><span class="p">.</span><span class="nx">BrightBlue</span><span class="p">,</span> <span class="s">&#34;Quiz Results!&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">4</span><span class="cl">	<span class="nx">results</span><span class="p">.</span><span class="nf">Addf</span><span class="p">(</span><span class="nx">cute</span><span class="p">.</span><span class="nx">BrightGreen</span><span class="p">,</span> <span class="s">&#34;Correct Answers: %d&#34;</span><span class="p">,</span> <span class="nx">correct</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">5</span><span class="cl">	<span class="nx">results</span><span class="p">.</span><span class="nf">Addf</span><span class="p">(</span><span class="nx">cute</span><span class="p">.</span><span class="nx">BrightRed</span><span class="p">,</span> <span class="s">&#34;Incorrect Answers: %d&#34;</span><span class="p">,</span> <span class="nx">questions</span><span class="o">-</span><span class="nx">correct</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">6</span><span class="cl">	<span class="nx">results</span><span class="p">.</span><span class="nf">Addf</span><span class="p">(</span><span class="nx">cute</span><span class="p">.</span><span class="nx">BrightPurple</span><span class="p">,</span> <span class="s">&#34;Total Questions: %d&#34;</span><span class="p">,</span> <span class="nx">questions</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">7</span><span class="cl">	<span class="nx">results</span><span class="p">.</span><span class="nf">Print</span><span class="p">()</span>
</span></span><span class="line"><span class="ln">8</span><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="the-func-main">The func main</h3>
<p>Here it gets complex, so let&rsquo;s break it down step by step:</p>
<ol>
<li>Create timer, serialize the whole csv reading, check if the user wants shuffling.</li>
<li>Range the exercises, and print it to the user, receive the answer in a channel, avoiding incorrect time.</li>
<li>Use the concurrent select keyword, where if the timer channel runs out, it will print the results and exit.</li>
<li>If an answer is received, check if it is correct or not, count it and store it.</li>
<li>If the user ended the quiz before the time, print the results and exit the program.</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 2</span><span class="cl">	<span class="kd">var</span> <span class="nx">reply</span> <span class="kt">string</span>
</span></span><span class="line"><span class="ln"> 3</span><span class="cl">	<span class="kd">var</span> <span class="nx">correct</span><span class="p">,</span> <span class="nx">questions</span> <span class="kt">int</span>
</span></span><span class="line"><span class="ln"> 4</span><span class="cl">
</span></span><span class="line"><span class="ln"> 5</span><span class="cl">	<span class="nx">timer</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">NewTimer</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span class="nf">Duration</span><span class="p">(</span><span class="nf">parsing</span><span class="p">().</span><span class="nx">Limit</span><span class="p">)</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Second</span><span class="p">)</span> <span class="c1">// Timer duration
</span></span></span><span class="line"><span class="ln"> 6</span><span class="cl"><span class="c1"></span>	<span class="nx">Exercises</span> <span class="o">:=</span> <span class="nf">serialize</span><span class="p">(</span><span class="nf">read</span><span class="p">())</span>                                       <span class="c1">// Slice with exercises
</span></span></span><span class="line"><span class="ln"> 7</span><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="ln"> 8</span><span class="cl">	<span class="k">if</span> <span class="nf">parsing</span><span class="p">().</span><span class="nx">Shuffle</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln"> 9</span><span class="cl">		<span class="nf">shuffleOrder</span><span class="p">(</span><span class="nx">Exercises</span><span class="p">)</span> <span class="c1">// if true, shuffle order
</span></span></span><span class="line"><span class="ln">10</span><span class="cl"><span class="c1"></span>	<span class="p">}</span>
</span></span><span class="line"><span class="ln">11</span><span class="cl">
</span></span><span class="line"><span class="ln">12</span><span class="cl">	<span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">Exercises</span> <span class="p">{</span> <span class="c1">// iterate over the exercises slice
</span></span></span><span class="line"><span class="ln">13</span><span class="cl"><span class="c1"></span>		<span class="nx">cute</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Exercise&#34;</span><span class="p">,</span> <span class="nx">Exercises</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">Question</span><span class="p">,</span> <span class="s">&#34;= &#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">14</span><span class="cl">		<span class="nx">answerCh</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="kd">chan</span> <span class="kt">string</span><span class="p">)</span> <span class="c1">// create a channel where it will receive the answer
</span></span></span><span class="line"><span class="ln">15</span><span class="cl"><span class="c1"></span>		<span class="k">go</span> <span class="kd">func</span><span class="p">()</span> <span class="p">{</span>                   <span class="c1">// while the timer run, listen to the answer
</span></span></span><span class="line"><span class="ln">16</span><span class="cl"><span class="c1"></span>			<span class="nx">fmt</span><span class="p">.</span><span class="nf">Scanln</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">reply</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">17</span><span class="cl">			<span class="nx">answerCh</span> <span class="o">&lt;-</span> <span class="nx">reply</span> <span class="c1">// store the scanned reply in the channel
</span></span></span><span class="line"><span class="ln">18</span><span class="cl"><span class="c1"></span>		<span class="p">}()</span>
</span></span><span class="line"><span class="ln">19</span><span class="cl">		<span class="k">select</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln">20</span><span class="cl">		<span class="k">case</span> <span class="o">&lt;-</span><span class="nx">timer</span><span class="p">.</span><span class="nx">C</span><span class="p">:</span> <span class="c1">// when the timer runs out
</span></span></span><span class="line"><span class="ln">21</span><span class="cl"><span class="c1"></span>			<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;&#34;</span><span class="p">)</span> <span class="c1">// print new line for pretty output
</span></span></span><span class="line"><span class="ln">22</span><span class="cl"><span class="c1"></span>			<span class="nx">cute</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Time is over!&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">23</span><span class="cl">			<span class="nf">quizResults</span><span class="p">(</span><span class="nx">correct</span><span class="p">,</span> <span class="nx">questions</span><span class="p">)</span> <span class="c1">// print cute quiz result
</span></span></span><span class="line"><span class="ln">24</span><span class="cl"><span class="c1"></span>			<span class="nx">os</span><span class="p">.</span><span class="nf">Exit</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>                      <span class="c1">// exit with success
</span></span></span><span class="line"><span class="ln">25</span><span class="cl"><span class="c1"></span>		<span class="k">case</span> <span class="nx">reply</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">answerCh</span><span class="p">:</span> <span class="c1">// store the answer channel in the reply variable
</span></span></span><span class="line"><span class="ln">26</span><span class="cl"><span class="c1"></span>			<span class="k">if</span> <span class="nx">strings</span><span class="p">.</span><span class="nf">TrimSpace</span><span class="p">(</span><span class="nx">reply</span><span class="p">)</span> <span class="o">==</span> <span class="nx">Exercises</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">Answer</span> <span class="p">{</span> <span class="c1">// trim spaces of the reply to avoid incorrect replies
</span></span></span><span class="line"><span class="ln">27</span><span class="cl"><span class="c1"></span>				<span class="nx">cute</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Correct!&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">28</span><span class="cl">				<span class="nx">correct</span><span class="o">++</span> <span class="c1">// count the correct replies
</span></span></span><span class="line"><span class="ln">29</span><span class="cl"><span class="c1"></span>			<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="ln">30</span><span class="cl">				<span class="nx">cute</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Incorrect!&#34;</span><span class="p">,</span> <span class="s">&#34;Your reply:&#34;</span><span class="p">,</span> <span class="nx">strings</span><span class="p">.</span><span class="nf">TrimSpace</span><span class="p">(</span><span class="nx">reply</span><span class="p">),</span> <span class="s">&#34;Answer:&#34;</span><span class="p">,</span> <span class="nx">Exercises</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">Answer</span><span class="p">)</span> <span class="c1">// if incorrect, show the correct answer
</span></span></span><span class="line"><span class="ln">31</span><span class="cl"><span class="c1"></span>			<span class="p">}</span>
</span></span><span class="line"><span class="ln">32</span><span class="cl">			<span class="nx">questions</span><span class="o">++</span> <span class="c1">// count the questions
</span></span></span><span class="line"><span class="ln">33</span><span class="cl"><span class="c1"></span>		<span class="p">}</span>
</span></span><span class="line"><span class="ln">34</span><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="ln">35</span><span class="cl">	<span class="nf">quizResults</span><span class="p">(</span><span class="nx">correct</span><span class="p">,</span> <span class="nx">questions</span><span class="p">)</span>
</span></span><span class="line"><span class="ln">36</span><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h2 id="gophercise-1-solved">Gophercise #1 Solved!</h2>
<p>There you have it homeboi!! Hope you enjoyed my solution of the gophercise, I will leave my github repo where I stored the solution if you want to check the whole code out, give a star or fork it, I&rsquo;m so glad to write blog posts again so I will be here soon, expect tons of blog posts coming!</p>
<p>Github repo: <a href="https://github.com/crazyc4t/quiz">https://github.com/crazyc4t/quiz</a></p>
 </content>
<p>
  
  <a class="blog-tags" href="http://localhost:1313/tags/go/">#Go</a>&nbsp;&nbsp;
  
</p>

  </main>
  <footer><small>
  Made with ‚ù§Ô∏è and <a href="https://gohugo.io/">Hugo</a>
  <p xmlns:cc="http://creativecommons.org/ns#">
    <a
      href="https://creativecommons.org/licenses/by-nc-sa/4.0/?ref=chooser-v1"
      target="_blank"
      rel="license noopener noreferrer"
      style="display: inline-block"
      ><img
        style="
          height: 22px !important;
          margin-left: 3px;
          vertical-align: text-bottom;
        "
        src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1"
        alt="" /><img
        style="
          height: 22px !important;
          margin-left: 3px;
          vertical-align: text-bottom;
        "
        src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1"
        alt="" /><img
        style="
          height: 22px !important;
          margin-left: 3px;
          vertical-align: text-bottom;
        "
        src="https://mirrors.creativecommons.org/presskit/icons/nc.svg?ref=chooser-v1"
        alt="" /><img
        style="
          height: 22px !important;
          margin-left: 3px;
          vertical-align: text-bottom;
        "
        src="https://mirrors.creativecommons.org/presskit/icons/sa.svg?ref=chooser-v1"
        alt=""
    /></a>
  </p>
</small>
</footer>

    
</body>

</html>
